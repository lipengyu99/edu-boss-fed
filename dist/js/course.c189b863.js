(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["course"],{4901:function(t,e,a){},"6ed7":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return u})),a.d(e,"b",(function(){return l}));var r=a("b32d"),s=function(t){return Object(r["a"])({method:"POST",url:"/boss/course/getQueryCourses",data:t})},n=function(t){return Object(r["a"])({method:"GET",url:"/boss/course/changeState",params:t})},o=function(t){return Object(r["a"])({method:"POST",url:"/boss/course/saveOrUpdateCourse",data:t})},u=function(t,e){return Object(r["a"])({method:"POST",url:"/boss/course/upload",data:t,onUploadProgress:e})},l=function(t){return Object(r["a"])({method:"GET",url:"/boss/course/getCourseById",params:{courseId:t}})}},b804:function(t,e,a){"use strict";a("4901")},bff8:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"course"},[a("course-list")],1)},s=[],n=a("d4ec"),o=a("262e"),u=a("2caf"),l=a("9ab4"),c=a("1b40"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"course-list"},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("数据筛选")])]),a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"70px","label-position":"left",model:t.filterParams}},[a("el-form-item",{attrs:{label:"课程名称",prop:"courseName"}},[a("el-input",{model:{value:t.filterParams.courseName,callback:function(e){t.$set(t.filterParams,"courseName",e)},expression:"filterParams.courseName"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{model:{value:t.filterParams.status,callback:function(e){t.$set(t.filterParams,"status",e)},expression:"filterParams.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"上架",value:"1"}}),a("el-option",{attrs:{label:"下架",value:"0"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{disabled:t.loading},on:{click:t.handleReset}},[t._v("重置")]),a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:t.handleFilter}},[t._v("查询")])],1)],1)],1),a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("查询结果：")]),a("el-button",{staticStyle:{float:"right","margin-top":"-5px"},attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"course-create"})}}},[t._v("添加课程")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.courses}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"courseName",label:"课程名称",width:"120"}}),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),a("el-table-column",{attrs:{prop:"sortNum",label:"排序"}}),a("el-table-column",{attrs:{prop:"status",label:"上架状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0,disabled:e.row.isStatusLoading},on:{change:function(a){return t.onStateChange(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"price",label:"操作",width:"280",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.$router.push({name:"course-edit",params:{courseId:e.row.id}})}}},[t._v("编辑")]),a("el-button",{on:{click:function(a){return t.$router.push({name:"course-section",params:{courseId:e.row.id}})}}},[t._v("内容管理")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalCount,disabled:t.loading},on:{"current-change":t.handleCurrentChange}})],1)],1)},d=[],f=a("1da1"),p=a("bee2"),b=(a("96cf"),a("159b"),a("6ed7")),m=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.filterParams={currentPage:1,pageSize:10,courseName:"",status:""},t.courses=[],t.totalCount=0,t.loading=!0,t}return Object(p["a"])(a,[{key:"created",value:function(){this.loadCourses()}},{key:"loadCourses",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(b["c"])(this.filterParams);case 3:e=t.sent,a=e.data,a.data.records.forEach((function(t){t.isStatusLoading=!1})),this.courses=a.data.records,this.totalCount=a.data.total,this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleCurrentChange",value:function(t){this.filterParams.currentPage=t,this.loadCourses()}},{key:"handleFilter",value:function(){this.filterParams.currentPage=1,this.loadCourses()}},{key:"handleReset",value:function(){this.$refs.form.resetFields(),this.filterParams.currentPage=1,this.loadCourses()}},{key:"onStateChange",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isStatusLoading=!0,t.next=3,Object(b["a"])({courseId:e.id,status:e.status});case 3:this.$message.success("".concat(0===e.status?"下架":"上架","成功")),e.isStatusLoading=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),a}(c["c"]);m=Object(l["a"])([c["a"]],m);var h=m,v=h,g=(a("b804"),a("2877")),w=Object(g["a"])(v,i,d,!1,null,"460d07e4",null),O=w.exports,j=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return a}(c["c"]);j=Object(l["a"])([Object(c["a"])({components:{CourseList:O}})],j);var k=j,y=k,C=Object(g["a"])(y,r,s,!1,null,"169bd855",null);e["default"]=C.exports}}]);
//# sourceMappingURL=course.c189b863.js.map